wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-keyring_1.0-1_all.deb
sudo dpkg -i cuda-keyring_1.0-1_all.deb
rm cuda-keyring_1.0-1_all.deb
sudo apt update
sudo apt upgrade -y
sudo apt install adwaita-icon-theme alsa-topology-conf alsa-ucm-conf at-spi2-core ca-certificates-java cuda-cccl-12-1 cuda-command-line-tools-12-1 cuda-compiler-12-1   cuda-cudart-12-1 cuda-cudart-dev-12-1 cuda-cuobjdump-12-1 cuda-cupti-12-1 cuda-cupti-dev-12-1 cuda-cuxxfilt-12-1   cuda-demo-suite-12-1 cuda-documentation-12-1 cuda-driver-dev-12-1 cuda-drivers=535.104.05-1 cuda-drivers-535=535.104.05-1 cuda-gdb-12-1 cuda-libraries-12-1   cuda-libraries-dev-12-1 cuda-nsight-12-1 cuda-nsight-compute-12-1 cuda-nsight-systems-12-1 cuda-nvdisasm-12-1 cuda-nvml-dev-12-1 cuda-nvprof-12-1 cuda-nvprune-12-1   cuda-nvrtc-12-1 cuda-nvrtc-dev-12-1 cuda-nvtx-12-1 cuda-nvvp-12-1 cuda-opencl-12-1 cuda-opencl-dev-12-1 cuda-profiler-api-12-1 cuda-runtime-12-1 cuda-sanitizer-12-1   cuda-toolkit-12-1-config-common cuda-toolkit-12-config-common cuda-toolkit-config-common cuda-tools-12-1 cuda-visual-tools-12-1   dconf-gsettings-backend dconf-service default-jre default-jre-headless dkms fontconfig fonts-dejavu-extra gds-tools-12-1 gsettings-desktop-schemas gtk-update-icon-cache   hicolor-icon-theme humanity-icon-theme java-common libasound2 libasound2-data libatk-bridge2.0-0 libatk-wrapper-java libatk-wrapper-java-jni libatk1.0-0 libatk1.0-data   libatspi2.0-0 libavahi-client3 libavahi-common-data libavahi-common3 libcairo-gobject2 libcairo2 libcolord2 libcublas-12-1 libcublas-dev-12-1   libcufft-12-1 libcufft-dev-12-1 libcufile-12-1 libcufile-dev-12-1 libcups2 libcurand-12-1 libcurand-dev-12-1 libcusolver-12-1 libcusolver-dev-12-1   libcusparse-12-1 libcusparse-dev-12-1 libdatrie1 libdconf1 libdrm-amdgpu1 libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libegl-mesa0 libegl1 libepoxy0 libfontenc1 libgbm1   libgdk-pixbuf-2.0-0 libgdk-pixbuf2.0-bin libgdk-pixbuf2.0-common libgif7 libgl1 libgl1-amber-dri libgl1-mesa-dri libglapi-mesa libgles2 libglvnd0 libglx-mesa0 libglx0   libgraphite2-3 libgtk-3-0 libgtk-3-bin libgtk-3-common libharfbuzz0b libice6 liblcms2-2 libllvm15 libnpp-12-1 libnpp-dev-12-1 libnvidia-cfg1-535 libnvidia-common-535   libnvidia-compute-535 libnvidia-decode-535 libnvidia-encode-535 libnvidia-extra-535 libnvidia-fbc1-535 libnvidia-gl-535 libnvjitlink-12-1 libnvjitlink-dev-12-1   libnvjpeg-12-1 libnvjpeg-dev-12-1 libnvvm-samples-12-1 libopengl0 libpango-1.0-0 libpangocairo-1.0-0 libpangoft2-1.0-0 libpciaccess0 libpcsclite1 libpixman-1-0   librsvg2-2 librsvg2-common libsensors-config libsensors5 libsm6 libthai-data libthai0 libtinfo5 libvdpau1 libwayland-client0 libwayland-cursor0 libwayland-egl1   libwayland-server0 libx11-xcb1 libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-icccm4 libxcb-image0 libxcb-keysyms1 libxcb-present0 libxcb-randr0   libxcb-render-util0 libxcb-render0 libxcb-shape0 libxcb-shm0 libxcb-sync1 libxcb-util1 libxcb-xfixes0 libxcb-xinerama0 libxcb-xinput0 libxcb-xkb1 libxcomposite1   libxcursor1 libxcvt0 libxdamage1 libxfixes3 libxfont2 libxft2 libxi6 libxinerama1 libxkbcommon-x11-0 libxkbcommon0 libxkbfile1 libxmu6 libxnvctrl0 libxrandr2 libxrender1   libxshmfence1 libxt6 libxtst6 libxv1 libxxf86dga1 libxxf86vm1 mesa-vdpau-drivers nsight-compute-2023.1.1 nsight-systems-2023.1.2 nvidia-compute-utils-535 nvidia-dkms-535   nvidia-driver-535 nvidia-kernel-common-535 nvidia-kernel-source-535 nvidia-modprobe nvidia-prime nvidia-settings nvidia-utils-535 openjdk-11-jre openjdk-11-jre-headless   pkg-config screen-resolution-extra session-migration ubuntu-mono vdpau-driver-all x11-common x11-utils x11-xkb-utils xcvt xfonts-base xfonts-encodings xfonts-utils   libcudnn8=8.9.0.131-1+cuda12.1 libcudnn8-dev=8.9.0.131-1+cuda12.1 libnccl2=2.18.3-1+cuda12.1 libnccl-dev=2.18.3-1+cuda12.1